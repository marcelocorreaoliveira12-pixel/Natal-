
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>ğŸ„ Sorteio de Amigo Oculto ğŸ</title>
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: url('https://images.unsplash.com/photo-1607082349566-187b6a1f9f5b?auto=format&fit=crop&w=1350&q=80') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 3em;
      margin-bottom: 10px;
      text-shadow: 2px 2px 6px #000;
    }
    p {
      font-size: 1.2em;
      margin-bottom: 20px;
      text-shadow: 1px 1px 3px #000;
    }
    input, button {
      padding: 12px;
      margin: 8px;
      border-radius: 8px;
      border: none;
      font-size: 1em;
    }
    input {
      width: 260px;
    }
    button {
      cursor: pointer;
      background-color: #e63946;
      color: #fff;
      font-weight: bold;
      transition: background 0.3s;
    }
    button:hover {
      background-color: #d62828;
    }
    #lista {
      margin-top: 20px;
      font-size: 1.1em;
      background: rgba(0,0,0,0.5);
      padding: 10px;
      border-radius: 8px;
      display: inline-block;
    }
    footer {
      margin-top: 30px;
      font-size: 0.9em;
      color: #f1faee;
    }
  </style>
</head>
<body>
  <h1>ğŸ„ Amigo Oculto de Natal ğŸ</h1>
  <p>Adicione os nomes, clique em <strong>Sortear</strong> e depois consulte seu amigo oculto!</p>

  <!-- Campo para adicionar nomes -->
  <input type="text" id="nome" placeholder="Digite seu nome">
  <button onclick="adicionarNome()">Adicionar</button>
  <button onclick="sortear()">Sortear</button>

  <div id="lista"></div>

  <!-- Campo para consultar resultado -->
  <h2 style="margin-top:30px;">ğŸ” Consultar meu sorteio</h2>
  <input type="text" id="consulta" placeholder="Digite seu nome">
  <button onclick="mostrarResultado()">Ver meu amigo oculto</button>

  <!-- BotÃ£o para compartilhar no WhatsApp -->
  <h2 style="margin-top:30px;">ğŸ“² Compartilhar</h2>
  <button onclick="compartilharWhatsApp()">Compartilhar link no WhatsApp</button>

  <script>
    let participantes = [];
    let sorteio = {};

    function adicionarNome() {
      const nome = document.getElementById("nome").value.trim();
      if (nome && !participantes.includes(nome)) {
        participantes.push(nome);
        document.getElementById("lista").innerHTML = 
          "<strong>Participantes:</strong> " + participantes.join(", ");
        document.getElementById("nome").value = "";
      } else {
        alert("Nome invÃ¡lido ou jÃ¡ adicionado!");
      }
    }

    function sortear() {
      if (participantes.length < 2) {
        alert("Ã‰ preciso pelo menos 2 participantes para sortear!");
        return;
      }

      let embaralhados = [...participantes].sort(() => Math.random() - 0.5);

      // Garante que ninguÃ©m tire a si mesmo
      for (let i = 0; i < participantes.length; i++) {
        if (participantes[i] === embaralhados[i]) {
          return sortear(); // refaz se alguÃ©m tirou a si mesmo
        }
      }

      // Cria o mapa de resultados
      for (let i = 0; i < participantes.length; i++) {
        sorteio[participantes[i]] = embaralhados[i];
      }

      alert("âœ… Sorteio realizado com sucesso! Agora cada participante pode consultar seu resultado.");
    }

    function mostrarResultado() {
      const nome = document.getElementById("consulta").value.trim();
      if (sorteio[nome]) {
        alert("ğŸ… " + nome + ", vocÃª tirou: " + sorteio[nome] + " ğŸ„ Feliz Natal!");
      } else {
        alert("Nome nÃ£o encontrado ou sorteio ainda nÃ£o realizado.");
      }
    }

    function compartilharWhatsApp() {
      const url = window.location.href;
      const mensagem = encodeURIComponent("ğŸ„ Participe do nosso Amigo Oculto de Natal! Clique aqui: " + url);
      window.open("https://wa.me/?text=" + mensagem, "_blank");
    }
  </script>

  <footer>
    ğŸ Desenvolvido para espalhar alegria neste Natal! ğŸ„
  </footer>
</body>
</html>
